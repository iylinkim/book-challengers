(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{11:function(e,a,t){"use strict";t.r(a),t.d(a,"firebaseInstance",(function(){return n})),t.d(a,"authService",(function(){return c})),t.d(a,"dbService",(function(){return s}));var r=t(27);t(62),t(64);r.a.initializeApp({apiKey:"AIzaSyBy0UkRcSGPkVkn6LojEsF5_Ag2fzK-uwY",authDomain:"book-challenge-8c61e.firebaseapp.com",projectId:"book-challenge-8c61e",storageBucket:"book-challenge-8c61e.appspot.com",messsagingSenderId:"823514268182",appId:"1:823514268182:web:a92e1b87996b5cf9d76b37"});var n=r.a,c=r.a.auth(),s=r.a.database()},14:function(e,a,t){e.exports={makerWhite:"#fff",list:"BookList_list__eAHAW",form:"BookList_form__3OqGF",books:"BookList_books__3A9XK",input:"BookList_input__3wA_F",submit:"BookList_submit__1zIch",no_result:"BookList_no_result__NX-Ks",bookContainer:"BookList_bookContainer__-vRZ7",coverImg:"BookList_coverImg__1d_EC",previewImg:"BookList_previewImg__XpTSD",ratingText:"BookList_ratingText__w9ce_",ratingNum:"BookList_ratingNum__1AiRv",register:"BookList_register__2bZ7I",dark:"BookList_dark__PZXXB"}},17:function(e,a,t){e.exports={makerWhite:"#fff",makerDarkGrey:"#333",makerLightPurple:"#a59cd2",progressWrap:"challenge_progressWrap__3lsdJ",progress:"challenge_progress__2sAml",progressBar:"challenge_progressBar__2vAma",barNum:"challenge_barNum__261sH",start:"challenge_start__23_zE",done:"challenge_done__2vCht",current:"challenge_current__PnW51",home:"challenge_home__3BuZp",profile:"challenge_profile__2wDxn",title:"challenge_title__WdHDW",dark:"challenge_dark__Bnl5i"}},18:function(e,a,t){e.exports={makerWhite:"#fff",makerSkyBlue:"#4cbcd8",makerLightPurple:"#a59cd2",makerLightGrey:"#efefef",container:"home_container__2jwQH",title:"home_title__1yJmV",form:"home_form__2qAGc",input:"home_input__3BkCw",titleInput:"home_titleInput__1qWwl",submit:"home_submit__1r8aS",dark:"home_dark__1YC39",books_text:"home_books_text__1xz9v"}},19:function(e,a,t){e.exports={makerWhite:"#fff",book:"BookItem_book__2Q8yr",thumbnail:"BookItem_thumbnail__31jPZ",deleteBtn:"BookItem_deleteBtn__3_fh6",starWrap:"BookItem_starWrap__3NyiV",stars:"BookItem_stars__2iWIX",rating:"BookItem_rating__1VHCU",ratingNum:"BookItem_ratingNum__2u5dY",dark:"BookItem_dark__2R-yn"}},20:function(e,a,t){e.exports={makerWhite:"#fff",makerBlack:"#000",makerDarkGrey:"#333",makerSkyBlue:"#4cbcd8",makerLightPurple:"#a59cd2",makerLightGrey:"#efefef",main:"tracker_main__1aIzl",title:"tracker_title__34lCR",showing:"tracker_showing__15oOR",box:"tracker_box__34DaT",left:"tracker_left__38x6n",book_containers:"tracker_book_containers__3tAgs",tracker:"tracker_tracker__3l5hV",blank:"tracker_blank__1cjW8",achieved:"tracker_achieved__2h_RD",logout:"tracker_logout__17obs",dark:"tracker_dark__3IqdS",challenge_name:"tracker_challenge_name___n7Ut"}},21:function(e,a,t){e.exports={makerWhite:"#fff",makerSkyBlue:"#4cbcd8",makerLightPurple:"#a59cd2",makerLightGrey:"#efefef",title:"profile_title__2TUAf",showing:"profile_showing__2EZCk",box:"profile_box__1WIhN",subTitle:"profile_subTitle__1qqcS",form:"profile_form__3_6oi",profileImg:"profile_profileImg__27i5H",userName:"profile_userName__3nfiA",update:"profile_update__2h1xU",dark:"profile_dark__2o8st"}},24:function(e,a,t){e.exports={makerWhite:"#fff",makerShadow:"rgba(0, 0, 0, .15)",makerBlack:"#000",wrap:"theme_wrap__sd4jK",toggle:"theme_toggle__3TSJy",names:"theme_names__3w3Bi",lightText:"theme_lightText__2cVgj",darkText:"theme_darkText__2A3dU",dark:"theme_dark__26Ch6"}},28:function(e,a,t){e.exports={makerWhite:"#fff",makerBlack:"#000",makerLightPurple:"#a59cd2",makerShadow:"rgba(0, 0, 0, .15)",makerSkyBlue:"#4cbcd8",header:"header_header__HZ6Fg",userPage:"header_userPage__11nMO",user:"header_user__LBWH_",userProfile:"header_userProfile__3MgTe",addBtn:"header_addBtn__2GHua",main:"header_main__3AGfL",dark:"header_dark__DGo1H"}},29:function(e,a,t){e.exports={result:"BookSearch_result__Lo9Ml",cover:"BookSearch_cover__13yZU",text:"BookSearch_text__29DBb",title:"BookSearch_title__zkVTh",dark:"BookSearch_dark__3otSQ"}},30:function(e,a,t){e.exports={makerWhite:"#fff",makerDarkGrey:"#333",nav:"navigation_nav__2WZRE",menu:"navigation_menu__2f_dW",dark:"navigation_dark__HAjs4"}},33:function(e,a,t){e.exports={makerWhite:"#fff",input:"imageFileInput_input__2va5a",imageFile:"imageFileInput_imageFile__3E50F",button:"imageFileInput_button__2taQP",dark:"imageFileInput_dark__3gzuM"}},40:function(e,a,t){e.exports={wrap:"router_wrap__kGZLn",section:"router_section__1RCwz"}},51:function(e,a,t){e.exports={makerWhite:"#fff",footer:"footer_footer__2oW47",dark:"footer_dark__lZOan"}},53:function(e,a,t){e.exports={challenges:"challenges_challenges__1uB_b"}},60:function(e,a,t){},7:function(e,a,t){e.exports={makerWhite:"#fff",makerDarkGrey:"#333",makerShadow:"rgba(0, 0, 0, .15)",wrap:"auth_wrap__3hOxF",img:"auth_img__I18Yk",info_wrap:"auth_info_wrap__23lef",info:"auth_info__3NrWa",box:"auth_box__ULbl8",email:"auth_email__1EPvY",password:"auth_password__sDWxm",icon:"auth_icon__3gP3j",input:"auth_input__ON05b",submit:"auth_submit__1J-7x",toggle:"auth_toggle__15x0Q",social_text:"auth_social_text__3Alum",social_wrap:"auth_social_wrap__1J8TJ",social:"auth_social__3mwtA",error:"auth_error__2Xva7",dark:"auth_dark__3fsSL"}},71:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var r=t(12),n=t(1),c=t(2),s=t.n(c),o=t(50),i=t.n(o),l=(t(60),t(5)),u=t(25),j=t(8),b=t(7),m=t.n(b),h=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=a[t],c=a[r];return e?"".concat(a.dark," ").concat(n," ").concat(c):"".concat(n," ").concat(c)},d=t(6),_=t.n(d),f=t(9),p=t(11),g=p.authService,k=p.firebaseInstance,O=t(2),x=O.useState,v=O.useEffect,N=function(){var e=x(!1),a=Object(l.a)(e,2),t=a[0],r=a[1],n=x(g.currentUser),c=Object(l.a)(n,2),s=c[0],o=c[1],i=x(null),u=Object(l.a)(i,2),j=u[0],b=u[1];v((function(){g.onAuthStateChanged((function(e){e?(o(!0),b(e)):(o(!1),b(null)),r(!0)}))}),[s,j]);return{init:t,loggedIn:s,setLoggedIn:o,userObj:j,refreshUser:function(){var e=g.currentUser;b({displayName:e.displayName,uid:e.uid,updateProfile:function(a){return e.updateProfile(a)}})}}},I=function(e){var a=e.darkTheme,t=function(){var e=x(!0),a=Object(l.a)(e,2),t=a[0],r=a[1],n=x(""),c=Object(l.a)(n,2),s=c[0],o=c[1],i=x(""),u=Object(l.a)(i,2),j=u[0],b=u[1],m=x(""),h=Object(l.a)(m,2),d=h[0],p=h[1];return{onSubmit:function(){var e=Object(f.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!t){e.next=8;break}return e.next=5,g.createUserWithEmailAndPassword(s,j);case 5:e.sent,e.next=11;break;case 8:return e.next=10,g.signInWithEmailAndPassword(s,j);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),p(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}(),onChange:function(e){var a=e.target,t=a.name,r=a.value;"email"===t?o(r):"password"===t&&b(r)},email:s,password:j,error:d,newAccount:t,toggleLoginSignout:function(){return r((function(e){return!e}))},onSocialSignIn:function(e){var a,t=e.target.name;"Google"===t?(a=new k.auth.GoogleAuthProvider,g.signInWithPopup(a)):"Github"===t&&(a=new k.auth.GithubAuthProvider,g.signInWithPopup(a))}}}(),r=t.onSubmit,c=t.onChange,s=t.email,o=t.password,i=t.error,u=t.newAccount,j=t.toggleLoginSignout,b=t.onSocialSignIn;return Object(n.jsxs)("div",{className:m.a.wrap,children:[Object(n.jsx)("div",{className:m.a.img,children:Object(n.jsx)("img",{src:"/book-challengers/images/authMain.jpg",alt:"auth main"})}),Object(n.jsx)("div",{className:h(a,m.a,"info_wrap"),children:Object(n.jsxs)("div",{className:m.a.info,children:[Object(n.jsxs)("form",{onSubmit:r,className:m.a.form,children:[Object(n.jsxs)("div",{className:m.a.email,children:[Object(n.jsx)("span",{className:h(a,m.a,"box","icon"),children:Object(n.jsx)("i",{className:"fas fa-envelope"})}),Object(n.jsx)("input",{className:h(a,m.a,"box","input"),type:"email",name:"email",placeholder:"Email",value:s,onChange:c,required:!0})]}),Object(n.jsxs)("div",{className:m.a.password,children:[Object(n.jsx)("span",{className:h(a,m.a,"box","icon"),children:Object(n.jsx)("i",{className:"fas fa-lock"})}),Object(n.jsx)("input",{className:h(a,m.a,"box","input"),type:"password",name:"password",placeholder:"Password",value:o,onChange:c,required:!0})]}),Object(n.jsx)("span",{className:m.a.error,children:i?"".concat(i," !"):""}),Object(n.jsx)("input",{className:"".concat(m.a.box," ").concat(m.a.submit),type:"submit",value:u?"Create Account":"Sign In"})]}),Object(n.jsxs)("p",{onClick:j,className:m.a.toggle,children:[u?"Already have an account?":"dont't have an account?",Object(n.jsx)("span",{children:u?"Sign In":"Create Account"})]}),Object(n.jsx)("span",{className:m.a.social_text,children:"Or, Sign In with"}),Object(n.jsxs)("p",{className:m.a.social_wrap,children:[Object(n.jsxs)("button",{onClick:b,name:"Google",className:"".concat(m.a.box," ").concat(m.a.social),children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fab fa-google"})}),"Google"]}),Object(n.jsxs)("button",{onClick:b,name:"Github",className:"".concat(m.a.box," ").concat(m.a.social),children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fab fa-github"})}),"Github"]})]})]})})]})},w=t(51),y=t.n(w),S=function(e){var a=e.darkTheme;return Object(n.jsxs)("footer",{className:h(a,y.a,"footer"),children:["\xa9 ",(new Date).getFullYear()," Iylin Kim. All rights reserved."]})},B=t(28),T=t.n(B),L=function(e){var a=e.userObj,t=e.darkTheme;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{className:h(t,T.a,"header"),children:[Object(n.jsxs)("h1",{children:[Object(n.jsx)("i",{className:"fas fa-book"}),Object(n.jsx)("span",{children:"Book Challengers"})]}),a&&Object(n.jsxs)("div",{className:T.a.user,children:[Object(n.jsx)("p",{className:T.a.userProfile,children:Object(n.jsx)("img",{src:a.photoURL,alt:"".concat(a.displayName)})}),Object(n.jsx)("span",{children:a.displayName})]})]}),a&&Object(n.jsx)("p",{className:T.a.main,children:Object(n.jsx)("img",{src:"/book-challengers/images/main.jpg",alt:"book"})})]})},C=t(11),A=t(18),W=t.n(A),P=t(17),U=t.n(P),D=function(e){var a=e.title,t=e.info,r=e.darkTheme,s=Object(c.useState)({}),o=Object(l.a)(s,2),i=o[0],u=o[1],b=Object(j.f)();Object(c.useEffect)((function(){t.books?u({totalBookCount:Object.keys(t.books).length}):u({totalBookCount:0})}),[t.books]);var m=Math.floor(i.totalBookCount/t.goal.bookGoal*100);return Object(n.jsxs)("li",{onClick:function(){b.push({pathname:"/tracker",title:a,state:t})},className:"/"===b.location.pathname?"".concat(U.a.home):"".concat(U.a.profile),children:[Object(n.jsx)("p",{className:h(r,U.a,"title"),children:a}),"/profile"===b.location.pathname&&Object(n.jsxs)("div",{className:U.a.progressWrap,children:[Object(n.jsx)("div",{className:U.a.progress,children:Object(n.jsx)("p",{className:U.a.progressBar,style:{width:"".concat(m,"%")}})}),Object(n.jsx)("span",{className:h(r,U.a,"start","barNum"),children:"0"}),Object(n.jsxs)("span",{className:h(r,U.a,"done","barNum"),children:[t.goal.bookGoal," books"]}),Object(n.jsx)("span",{className:U.a.current,children:m<100?"".concat(m,"%"):"Done!"})]})]})},G=t(53),F=t.n(G),R=function(e){var a=e.userObj,t=e.darkTheme,r=Object(c.useState)({}),s=Object(l.a)(r,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){C.dbService.ref("".concat(a.uid)).on("value",(function(e){var a=e.val();a&&i(a)}))}),[a.uid]),Object(n.jsx)("ul",{className:F.a.challenges,children:o?Object.keys(o).map((function(e){return Object(n.jsx)(D,{title:e,info:o[e],darkTheme:t},e)})):"There is no challenges yet. Set your goal!"})},E=function(e){var a=e.userObj,t=e.darkTheme,r=Object(c.useState)(0),s=Object(l.a)(r,2),o=s[0],i=s[1],u=Object(c.useState)(""),j=Object(l.a)(u,2),b=j[0],m=j[1],d=function(e){var a=e.target,t=a.value,r=a.name;"goal"===r?i(t):"title"===r&&m(t)},p=function(){var e=Object(f.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!b.length){e.next=4;break}return e.next=4,C.dbService.ref("".concat(a.uid,"/").concat(b,"/goal")).set({bookGoal:o});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:W.a.container,children:[Object(n.jsx)("h2",{className:h(t,W.a,"title"),children:"Set your goal"}),Object(n.jsxs)("form",{className:W.a.form,onSubmit:p,children:[Object(n.jsx)("input",{className:h(t,W.a,"input"),onChange:d,type:"number",value:o,name:"goal",min:"10",max:"100",step:"10"}),Object(n.jsx)("span",{className:h(t,W.a,"books_text"),children:"books"}),Object(n.jsx)("p",{children:Object(n.jsx)("input",{className:h(t,W.a,"input","titleInput"),onChange:d,type:"text",value:b,name:"title",placeholder:"Enter your challenge title",required:!0})}),Object(n.jsx)("p",{className:W.a.submit,children:Object(n.jsx)("input",{type:"submit",value:"start"})})]}),Object(n.jsx)(R,{userObj:a})]})},q=t(19),H=t.n(q),z=function(e){var a=e.onClick,t=e.userObj,r=e.bookData,c=e.challengeTitle,s=e.darkTheme,o=r.thumbnail,i=r.rating,l=function(){var e=Object(f.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.dbService.ref("".concat(t.uid,"/").concat(c,"/books/").concat(r.createdAt)),e.next=3,a.remove();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("li",{className:H.a.book,onClick:a,children:[Object(n.jsx)("p",{children:Object(n.jsx)("img",{className:H.a.thumbnail,src:o,alt:"book cover"})}),Object(n.jsxs)("div",{className:H.a.rating,children:[Object(n.jsx)("span",{className:h(s,H.a,"ratingNum"),children:i}),Object(n.jsx)("div",{className:H.a.starWrap,style:{width:.2*i*75},children:Object(n.jsxs)("p",{className:H.a.stars,children:[Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"})]})})]}),Object(n.jsx)("button",{className:H.a.deleteBtn,onClick:l,children:"Delete"})]})},Z=t(29),J=t.n(Z),K=function(e){var a=e.bookInfo,t=e.setBookInfo,r=e.darkTheme,c=a.title,s=a.thumbnail,o=a.authors;return Object(n.jsxs)("li",{className:h(r,J.a,"result"),onClick:function(e){var a=e.currentTarget.querySelector("img").src;t({coverImg:a,title:c})},children:[Object(n.jsx)("p",{className:J.a.cover,children:Object(n.jsx)("img",{src:s||"/book-challengers/images/default.png",alt:c})}),Object(n.jsxs)("ul",{className:J.a.text,children:[Object(n.jsx)("li",{className:J.a.title,children:c}),Object(n.jsx)("li",{children:o})]})]})},M=t(14),V=t.n(M),X=function(e){var a=e.book,t=e.setAdding,r=e.userObj,s=e.challengeName,o=e.darkTheme,i=Object(c.useRef)(),u=Object(c.useRef)(),j=function(e,a){var t=x([]),r=Object(l.a)(t,2),n=r[0],c=r[1],s=x({}),o=Object(l.a)(s,2);return{books:n,bookInfo:o[0],setBookInfo:o[1],onClick:function(t){t.preventDefault(),e.search(a.current.value).then((function(e){return c(e.data.documents)}))}}}(a,i),b=j.books,m=j.bookInfo,d=j.setBookInfo,p=j.onClick,g=function(){var e=Object(f.a)(_.a.mark((function e(){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=u.current.value)>5)){e.next=5;break}alert("Put number under 5"),e.next=13;break;case 5:if(""!==a){e.next=9;break}alert("Input number abouth this book!"),e.next=13;break;case 9:return n=Date.now(),e.next=12,C.dbService.ref("".concat(r.uid,"/").concat(s,"/books/").concat(n)).set({thumbnail:m.coverImg,title:m.title,rating:a,createdAt:n});case 12:t(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:V.a.list,children:[Object(n.jsxs)("form",{className:V.a.form,children:[Object(n.jsx)("input",{className:h(o,V.a,"input"),ref:i,type:"text",placeholder:"Search"}),Object(n.jsx)("button",{onClick:p,className:V.a.submit,children:Object(n.jsx)("i",{className:"fas fa-search"})})]}),Object(n.jsxs)("div",{className:V.a.bookContainer,children:[b.length>0?Object(n.jsx)("ul",{className:h(o,V.a,"books"),children:b.map((function(e){return Object(n.jsx)(K,{bookInfo:e,setAdding:t,userObj:r,challengeName:s,setBookInfo:d,darkTheme:o},e.isbn)}))}):Object(n.jsx)("p",{className:V.a.no_result,children:"No result"}),Boolean(m.coverImg)?Object(n.jsxs)("div",{className:V.a.ratingInfo,children:[Object(n.jsx)("img",{className:V.a.previewImg,src:m.coverImg,alt:"book cover"}),Object(n.jsx)("p",{children:"Rate this book"}),Object(n.jsxs)("p",{className:V.a.ratingText,children:[Object(n.jsx)("input",{ref:u,className:V.a.ratingNum,type:"number",autoFocus:!0,min:"0",max:"5",step:"0.1",required:!0}),Object(n.jsx)("span",{children:"/5"}),Object(n.jsx)("button",{className:h(o,V.a,"register"),onClick:g,children:"register"})]})]}):""]})]})},Y=t(20),Q=t.n(Y),$=function(e){var a=e.book,t=e.userObj,r=e.darkTheme,s=Object(c.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],b=Object(c.useState)([]),m=Object(l.a)(b,2),d=m[0],_=m[1],f=Object(c.useState)(""),p=Object(l.a)(f,2),g=p[0],k=p[1],O=Object(j.f)(),x="challenge title",v="goal",N=window.localStorage.getItem(x);return Object(c.useEffect)((function(){O.location.state&&(window.localStorage.setItem(x,O.location.title),window.localStorage.setItem(v,O.location.state.goal.bookGoal))}),[O.location.state,O.location.title]),Object(c.useEffect)((function(){C.dbService.ref("".concat(t.uid,"/").concat(window.localStorage.getItem(x),"/books")).on("value",(function(e){var a=e.val();_(a||[])}))}),[t.uid]),Object(c.useEffect)((function(){var e=Object.keys(d).length;k((function(){return window.localStorage.getItem(v)-e}))}),[d,g]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:Q.a.tracker,children:[Object(n.jsxs)("h2",{className:h(r,Q.a,"title"),children:[window.localStorage.getItem(v)," Books Challenges"]}),Object(n.jsxs)("h4",{className:h(r,Q.a,"challenge_name"),children:['"',window.localStorage.getItem(x),'"']}),g>0&&Object(n.jsxs)("h3",{className:h(r,Q.a,"left"),children:[Object(n.jsx)("span",{children:g})," books left until goal achievement!"]}),i&&Object(n.jsx)(X,{book:a,setAdding:u,userObj:t,challengeName:window.localStorage.getItem(x),darkTheme:r}),Object(n.jsxs)("ul",{className:Q.a.book_containers,children:[Object.keys(d).map((function(e){return Object(n.jsx)(z,{userObj:t,bookData:d[e],challengeTitle:N,darkTheme:r},e)})),g>0&&Object(n.jsx)("li",{className:Q.a.blank,onClick:function(){return u(!0)},children:Object(n.jsx)("span",{children:"+"})})]}),0===g&&Object(n.jsxs)("p",{className:Q.a.achieved,children:[Object(n.jsx)("i",{className:"fas fa-trophy"}),Object(n.jsx)("span",{children:"You achieved your goal!"})]})]})})},ee=t(21),ae=t.n(ee),te=function(e){var a=e.ImageInput,t=e.userObj,s=e.ChallengeList,o=e.refreshUser,i=e.darkTheme,u=Object(c.useState)({displayName:t.displayName,photoURL:t.photoURL}),j=Object(l.a)(u,2),b=j[0],m=j[1],d=function(){var e=Object(f.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.displayName===b.displayName&&t.photoURL===b.photoURL){e.next=4;break}return e.next=4,t.updateProfile({displayName:b.displayName,photoURL:b.photoURL});case 4:o();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{className:h(i,ae.a,"title"),children:[t.displayName,"'s Profile"]}),Object(n.jsxs)("form",{className:ae.a.form,onSubmit:d,children:[Object(n.jsx)("p",{className:ae.a.profileImg,children:Object(n.jsx)("img",{src:b.photoURL,alt:t.displayName})}),Object(n.jsx)(a,{setNewUserObj:m,darkTheme:i}),Object(n.jsx)("input",{className:ae.a.userName,type:"text",value:b.displayName,onChange:function(e){var a=e.target.value;m((function(e){return Object(r.a)(Object(r.a)({},e),{},{displayName:a})}))}}),Object(n.jsx)("input",{className:ae.a.update,type:"submit",value:"Update"})]}),Object(n.jsxs)("h3",{className:h(i,ae.a,"title"),children:["Challenges"," "]}),Object(n.jsx)("p",{className:ae.a.subTitle,children:"Click each section if you go to that challenge"}),Object(n.jsx)(s,{darkTheme:i})]})},re=t(40),ne=t.n(re),ce=t(30),se=t.n(ce),oe=function(e){var a=e.setLoggedIn,t=e.darkTheme,r=Object(j.f)(),c=function(e){var t=e.target.innerText;"Home"===t?r.push("/"):"Profile"===t?r.push("/profile"):"Sign out"===t&&(C.authService.signOut(),a(!1),r.push("/"))};return Object(n.jsxs)("ul",{className:h(t,se.a,"nav"),children:[Object(n.jsx)("li",{className:se.a.menu,onClick:c,children:"Home"}),Object(n.jsx)("li",{className:se.a.menu,onClick:c,children:"Profile"}),Object(n.jsx)("li",{className:se.a.menu,onClick:c,children:"Sign out"})]})},ie=function(e){var a=e.ChallengeList,t=e.ImageInput,r=e.ToggleBtn,s=e.loggedIn,o=e.book,i=e.userObj,b=e.setLoggedIn,m=e.refreshUser,h=Object(c.useState)(!1),d=Object(l.a)(h,2),_=d[0],f=d[1];return Object(n.jsxs)("div",{className:ne.a.wrap,children:[Object(n.jsx)(L,{userObj:i,setLoggedIn:b,darkTheme:_}),Object(n.jsx)(r,{darkTheme:_,setDarkTheme:f}),Object(n.jsxs)(u.a,{children:[s&&Object(n.jsx)(oe,{setLoggedIn:b,darkTheme:_}),Object(n.jsx)("section",{className:ne.a.section,children:Object(n.jsx)(j.c,{children:s&&i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(E,{userObj:i,loggedIn:s,darkTheme:_})}),Object(n.jsx)(j.a,{exact:!0,path:"/tracker",children:Object(n.jsx)($,{book:o,userObj:i,loggedIn:s,setLoggedIn:b,darkTheme:_})}),Object(n.jsx)(j.a,{exact:!0,path:"/profile",children:Object(n.jsx)(te,{ImageInput:t,userObj:i,loggedIn:s,ChallengeList:a,refreshUser:m,darkTheme:_})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(I,{darkTheme:_})})})})})]}),Object(n.jsx)(S,{darkTheme:_})]})};t(71);var le=function(e){var a=e.ImageInput,t=e.ToggleBtn,c=e.book,s=N(),o=s.init,i=s.loggedIn,l=s.setLoggedIn,u=s.userObj,j=s.refreshUser;return Object(n.jsx)(n.Fragment,{children:o?Object(n.jsx)(ie,{ChallengeList:function(e){return Object(n.jsx)(R,Object(r.a)(Object(r.a)({},e),{},{userObj:u}))},ImageInput:a,ToggleBtn:t,loggedIn:i,book:c,userObj:u,setLoggedIn:l,refreshUser:j}):Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("p",{className:"spinner",children:Object(n.jsx)("i",{className:"fas fa-spinner"})}),Object(n.jsx)("p",{className:"loading_text",children:"Loading..."})]})})},ue=t(31),je=t(32),be=t(54),me=t.n(be),he=function(){function e(a){Object(ue.a)(this,e),this.key=a}return Object(je.a)(e,[{key:"search",value:function(){var e=Object(f.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("https://dapi.kakao.com/v3/search/book?query=".concat(a),{headers:{Authorization:"KakaoAK ".concat(this.key)}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),de=(t(89),function(){function e(){Object(ue.a)(this,e)}return Object(je.a)(e,[{key:"upload",value:function(){var e=Object(f.a)(_.a.mark((function e(a){var t,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",a),t.append("upload_preset","bq51dxpm"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dlpqcuqbq/upload",{method:"POST",body:t});case 5:return r=e.sent,e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}]),e}()),_e=t(33),fe=t.n(_e),pe=function(e){var a=e.imageUploader,t=e.setNewUserObj,s=e.darkTheme,o=Object(c.useRef)(),i=function(){var e=Object(f.a)(_.a.mark((function e(n){var c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.currentTarget.files,e.next=3,a.upload(c[0]);case 3:s=e.sent,t((function(e){return Object(r.a)(Object(r.a)({},e),{},{photoURL:s.url})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:fe.a.imageFile,children:[Object(n.jsx)("input",{className:fe.a.input,ref:o,type:"file",accept:"image/*",onChange:i}),Object(n.jsx)("button",{className:h(s,fe.a,"button"),onClick:function(e){e.preventDefault(),o.current.click()},children:"Change Profile Photo"})]})},ge=t(24),ke=t.n(ge),Oe=function(e){var a=e.darkTheme,t=e.setDarkTheme,r="dark",s=function(e){var a=document.querySelector("html");e?(a.classList.add(r),localStorage.setItem(r,!0)):(a.classList.remove(r),localStorage.setItem(r,!1))};return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem(r));if(null!==e)t(e),s(e);else{console.log("localStorage \ube44\uc5b4\uc788\uc74c");var a=window.matchMedia("(prefers-color-scheme: Dark)").matches;t(a),s(a)}}),[]),Object(n.jsxs)("div",{className:ke.a.wrap,onClick:function(e){t((function(e){return s(!e),!e}))},children:[Object(n.jsx)("div",{className:h(a,ke.a,"toggle"),children:a?"Dark":"Light"}),Object(n.jsxs)("div",{className:h(a,ke.a,"names"),children:[Object(n.jsx)("p",{className:ke.a.lightText,children:"Light"}),Object(n.jsx)("p",{className:ke.a.darkText,children:"Dark"})]})]})},xe=new he("742e10ca3a65c754115634228a639144"),ve=new de;console.log(ve);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(le,{book:xe,ImageInput:function(e){return Object(n.jsx)(pe,Object(r.a)(Object(r.a)({},e),{},{imageUploader:ve}))},ToggleBtn:function(e){return Object(n.jsx)(Oe,Object(r.a)({},e))}})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.f90c100b.chunk.js.map