(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{10:function(e,a,t){e.exports={list:"BookList_list__eAHAW",form:"BookList_form__3OqGF",books:"BookList_books__3A9XK",input:"BookList_input__3wA_F",submit:"BookList_submit__1zIch",no_result:"BookList_no_result__NX-Ks",bookContainer:"BookList_bookContainer__-vRZ7",coverImg:"BookList_coverImg__1d_EC",previewImg:"BookList_previewImg__XpTSD",ratingText:"BookList_ratingText__w9ce_",ratingNum:"BookList_ratingNum__1AiRv",register:"BookList_register__2bZ7I",dark:"BookList_dark__PZXXB"}},17:function(e,a,t){e.exports={wrap:"theme_wrap__sd4jK",toggle:"theme_toggle__3TSJy",names:"theme_names__3w3Bi",lightText:"theme_lightText__2cVgj",darkText:"theme_darkText__2A3dU",dark:"theme_dark__26Ch6"}},18:function(e,a,t){e.exports={main:"tracker_main__1aIzl",title:"tracker_title__34lCR",showing:"tracker_showing__15oOR",box:"tracker_box__34DaT",left:"tracker_left__38x6n",book_containers:"tracker_book_containers__3tAgs",tracker:"tracker_tracker__3l5hV",blank:"tracker_blank__1cjW8",achieved:"tracker_achieved__2h_RD",logout:"tracker_logout__17obs",dark:"tracker_dark__3IqdS"}},19:function(e,a,t){e.exports={container:"home_container__2jwQH",title:"home_title__1yJmV",form:"home_form__2qAGc",input:"home_input__3BkCw",titleInput:"home_titleInput__1qWwl",submit:"home_submit__1r8aS"}},20:function(e,a,t){e.exports={book:"BookItem_book__2Q8yr",thumbnail:"BookItem_thumbnail__31jPZ",deleteBtn:"BookItem_deleteBtn__3_fh6",starWrap:"BookItem_starWrap__3NyiV",stars:"BookItem_stars__2iWIX",rating:"BookItem_rating__1VHCU",ratingNum:"BookItem_ratingNum__2u5dY"}},21:function(e,a,t){e.exports={title:"profile_title__2TUAf",showing:"profile_showing__2EZCk",box:"profile_box__1WIhN",subTitle:"profile_subTitle__1qqcS",form:"profile_form__3_6oi",profileImg:"profile_profileImg__27i5H",userName:"profile_userName__3nfiA",update:"profile_update__2h1xU"}},23:function(e,a,t){e.exports={header:"header_header__HZ6Fg",userPage:"header_userPage__11nMO",user:"header_user__LBWH_",userProfile:"header_userProfile__3MgTe",addBtn:"header_addBtn__2GHua",main:"header_main__3AGfL",dark:"header_dark__DGo1H"}},24:function(e,a,t){e.exports={result:"BookSearch_result__Lo9Ml",cover:"BookSearch_cover__13yZU",text:"BookSearch_text__29DBb",title:"BookSearch_title__zkVTh",dark:"BookSearch_dark__3otSQ"}},25:function(e,a,t){e.exports={nav:"navigation_nav__2WZRE",menu:"navigation_menu__2f_dW",dark:"navigation_dark__HAjs4"}},32:function(e,a,t){e.exports={footer:"footer_footer__2oW47",dark:"footer_dark__lZOan"}},33:function(e,a,t){e.exports={input:"imageFileInput_input__2va5a",imageFile:"imageFileInput_imageFile__3E50F",button:"imageFileInput_button__2taQP"}},40:function(e,a,t){e.exports={wrap:"router_wrap__kGZLn",section:"router_section__1RCwz"}},5:function(e,a,t){e.exports={wrap:"auth_wrap__3hOxF",img:"auth_img__I18Yk",info_wrap:"auth_info_wrap__23lef",info:"auth_info__3NrWa",box:"auth_box__ULbl8",email:"auth_email__1EPvY",password:"auth_password__sDWxm",icon:"auth_icon__3gP3j",input:"auth_input__ON05b",submit:"auth_submit__1J-7x",toggle:"auth_toggle__15x0Q",social_text:"auth_social_text__3Alum",social_wrap:"auth_social_wrap__1J8TJ",social:"auth_social__3mwtA",error:"auth_error__2Xva7",dark:"auth_dark__3fsSL"}},52:function(e,a,t){e.exports={challenges:"challenges_challenges__1uB_b"}},59:function(e,a,t){},70:function(e,a,t){},9:function(e,a,t){e.exports={progressWrap:"challenge_progressWrap__3lsdJ",progress:"challenge_progress__2sAml",progressBar:"challenge_progressBar__2vAma",barNum:"challenge_barNum__261sH",start:"challenge_start__23_zE",done:"challenge_done__2vCht",current:"challenge_current__PnW51",home:"challenge_home__3BuZp",profile:"challenge_profile__2wDxn",title:"challenge_title__WdHDW",dark:"challenge_dark__Bnl5i"}},91:function(e,a,t){"use strict";t.r(a);var c=t(13),n=t(1),s=t(2),r=t.n(s),o=t(50),i=t.n(o),l=(t(59),t(6)),u=t(27),j=t(8),b=t(7),h=t.n(b),m=t(11),d=t(29);t(61),t(63);d.a.initializeApp({apiKey:"AIzaSyBy0UkRcSGPkVkn6LojEsF5_Ag2fzK-uwY",authDomain:"book-challenge-8c61e.firebaseapp.com",projectId:"book-challenge-8c61e",storageBucket:"book-challenge-8c61e.appspot.com",messsagingSenderId:"823514268182",appId:"1:823514268182:web:a92e1b87996b5cf9d76b37"});var _=d.a,p=d.a.auth(),f=d.a.database(),g=t(5),O=t.n(g),x=function(e){var a=e.darkTheme,t=Object(s.useState)(!0),c=Object(l.a)(t,2),r=c[0],o=c[1],i=Object(s.useState)(""),u=Object(l.a)(i,2),j=u[0],b=u[1],d=Object(s.useState)(""),f=Object(l.a)(d,2),g=f[0],x=f[1],k=Object(s.useState)(""),v=Object(l.a)(k,2),N=v[0],w=v[1],I=function(){var e=Object(m.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!r){e.next=8;break}return e.next=5,p.createUserWithEmailAndPassword(j,g);case 5:e.sent,e.next=11;break;case 8:return e.next=10,p.signInWithEmailAndPassword(j,g);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),w(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}(),y=function(e){var a=e.target,t=a.name,c=a.value;"email"===t?b(c):"password"===t&&x(c)},S=function(e){var a,t=e.target.name;"Google"===t?(a=new _.auth.GoogleAuthProvider,p.signInWithPopup(a)):"Github"===t&&(a=new _.auth.GithubAuthProvider,p.signInWithPopup(a))};return Object(n.jsxs)("div",{className:O.a.wrap,children:[Object(n.jsx)("div",{className:O.a.img,children:Object(n.jsx)("img",{src:"/book-challengers/images/authMain.jpg",alt:"auth main"})}),Object(n.jsx)("div",{className:a?"".concat(O.a.dark," ").concat(O.a.info_wrap):"".concat(O.a.info_wrap),children:Object(n.jsxs)("div",{className:O.a.info,children:[Object(n.jsxs)("form",{onSubmit:I,className:O.a.form,children:[Object(n.jsxs)("div",{className:O.a.email,children:[Object(n.jsx)("span",{className:a?"".concat(O.a.dark," ").concat(O.a.box," ").concat(O.a.icon):"".concat(O.a.box," ").concat(O.a.icon),children:Object(n.jsx)("i",{className:"fas fa-envelope"})}),Object(n.jsx)("input",{className:a?"".concat(O.a.dark," ").concat(O.a.box," ").concat(O.a.input):"".concat(O.a.box," ").concat(O.a.input),type:"email",name:"email",placeholder:"Email",value:j,onChange:y,required:!0})]}),Object(n.jsxs)("div",{className:O.a.password,children:[Object(n.jsx)("span",{className:a?"".concat(O.a.dark," ").concat(O.a.box," ").concat(O.a.icon):"".concat(O.a.box," ").concat(O.a.icon),children:Object(n.jsx)("i",{className:"fas fa-lock"})}),Object(n.jsx)("input",{className:a?"".concat(O.a.dark," ").concat(O.a.box," ").concat(O.a.input):"".concat(O.a.box," ").concat(O.a.input),type:"password",name:"password",placeholder:"Password",value:g,onChange:y,required:!0})]}),Object(n.jsx)("span",{className:O.a.error,children:N?"".concat(N," !"):""}),Object(n.jsx)("input",{className:"".concat(O.a.box," ").concat(O.a.submit),type:"submit",value:r?"Create Account":"Sign In"})]}),Object(n.jsxs)("p",{onClick:function(){return o((function(e){return!e}))},className:O.a.toggle,children:[r?"Already have an account?":"dont't have an account?",Object(n.jsx)("span",{children:r?"Sign In":"Create Account"})]}),Object(n.jsx)("span",{className:O.a.social_text,children:"Or, Sign In with"}),Object(n.jsxs)("p",{className:O.a.social_wrap,children:[Object(n.jsxs)("button",{onClick:S,name:"Google",className:"".concat(O.a.box," ").concat(O.a.social),children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fab fa-google"})}),"Google"]}),Object(n.jsxs)("button",{onClick:S,name:"Github",className:"".concat(O.a.box," ").concat(O.a.social),children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fab fa-github"})}),"Github"]})]})]})})]})},k=t(32),v=t.n(k),N=function(e){var a=e.darkTheme;return Object(n.jsxs)("footer",{className:a?"".concat(v.a.dark," ").concat(v.a.footer):"".concat(v.a.footer),children:["\xa9 ",(new Date).getFullYear()," Iylin Kim. All rights reserved."]})},w=t(23),I=t.n(w),y=function(e){var a=e.userObj,t=e.darkTheme;return console.log(t),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{className:t?"".concat(I.a.dark," ").concat(I.a.header):"".concat(I.a.header),children:[Object(n.jsxs)("h1",{children:[Object(n.jsx)("i",{className:"fas fa-book"}),Object(n.jsx)("span",{children:"Book Challengers"})]}),a&&Object(n.jsxs)("div",{className:I.a.user,children:[Object(n.jsx)("p",{className:I.a.userProfile,children:Object(n.jsx)("img",{src:a.photoURL,alt:"".concat(a.displayName)})}),Object(n.jsx)("span",{children:a.displayName})]})]}),Object(n.jsx)("p",{className:I.a.main,children:Object(n.jsx)("img",{src:"/book-challengers/images/main.jpg",alt:"book"})})]})},S=t(19),B=t.n(S),T=t(9),C=t.n(T),L=function(e){var a=e.title,t=e.info,c=e.darkTheme,r=Object(s.useState)({}),o=Object(l.a)(r,2),i=o[0],u=o[1],b=Object(j.f)();Object(s.useEffect)((function(){t.books?u({totalBookCount:Object.keys(t.books).length}):u({totalBookCount:0})}),[t.books]);var h=Math.floor(i.totalBookCount/t.goal.bookGoal*100);return Object(n.jsxs)("li",{onClick:function(){b.push({pathname:"/tracker",title:a,state:t})},className:"/"===b.location.pathname?"".concat(C.a.home):"".concat(C.a.profile),children:[Object(n.jsx)("p",{className:c?"".concat(C.a.dark," ").concat(C.a.title):"".concat(C.a.title),children:a}),"/profile"===b.location.pathname&&Object(n.jsxs)("div",{className:C.a.progressWrap,children:[Object(n.jsx)("div",{className:C.a.progress,children:Object(n.jsx)("p",{className:C.a.progressBar,style:{width:"".concat(h,"%")}})}),Object(n.jsx)("span",{className:c?"".concat(C.a.dark," ").concat(C.a.start," ").concat(C.a.barNum):"".concat(C.a.start," ").concat(C.a.barNum),children:"0"}),Object(n.jsxs)("span",{className:c?"".concat(C.a.dark," ").concat(C.a.done," ").concat(C.a.barNum):"".concat(C.a.done," ").concat(C.a.barNum),children:[t.goal.bookGoal," books"]}),Object(n.jsx)("span",{className:C.a.current,children:h<100?"".concat(h,"%"):"Done!"})]})]})},A=t(52),P=t.n(A),U=function(e){var a=e.userObj,t=e.darkTheme,c=Object(s.useState)({}),r=Object(l.a)(c,2),o=r[0],i=r[1];return Object(s.useEffect)((function(){f.ref("".concat(a.uid)).on("value",(function(e){var a=e.val();a&&i(a)}))}),[a.uid]),Object(n.jsx)("ul",{className:P.a.challenges,children:o?Object.keys(o).map((function(e){return Object(n.jsx)(L,{title:e,info:o[e],darkTheme:t},e)})):"There is no challenges yet. Set your goal!"})},D=function(e){var a=e.userObj,t=Object(s.useState)(0),c=Object(l.a)(t,2),r=c[0],o=c[1],i=Object(s.useState)(""),u=Object(l.a)(i,2),j=u[0],b=u[1],d=function(e){var a=e.target,t=a.value,c=a.name;"goal"===c?o(t):"title"===c&&b(t)},_=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.ref("".concat(a.uid,"/").concat(j,"/goal")).set({bookGoal:r});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:B.a.container,children:[Object(n.jsx)("h2",{className:B.a.title,children:"Set your goal"}),Object(n.jsxs)("form",{className:B.a.form,onSubmit:_,children:[Object(n.jsx)("input",{className:B.a.input,onChange:d,type:"number",value:r,name:"goal",min:"10",max:"100",step:"10"}),Object(n.jsx)("span",{children:"books"}),Object(n.jsx)("p",{children:Object(n.jsx)("input",{className:"".concat(B.a.input," ").concat(B.a.titleInput),onChange:d,type:"text",value:j,name:"title",placeholder:"Enter your challenge title"})}),Object(n.jsx)("p",{className:B.a.submit,children:Object(n.jsx)("input",{type:"submit",value:"start"})})]}),Object(n.jsx)(U,{userObj:a})]})},W=t(20),F=t.n(W),R=function(e){var a=e.onClick,t=e.userObj,c=e.bookData,s=e.challengeTitle,r=c.thumbnail,o=c.rating,i=function(){var e=Object(m.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.ref("".concat(t.uid,"/").concat(s,"/books/").concat(c.createdAt)),e.next=3,a.remove();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("li",{className:F.a.book,onClick:a,children:[Object(n.jsx)("p",{children:Object(n.jsx)("img",{className:F.a.thumbnail,src:r,alt:"book cover"})}),Object(n.jsxs)("div",{className:F.a.rating,children:[Object(n.jsx)("span",{className:F.a.ratingNum,children:o}),Object(n.jsx)("div",{className:F.a.starWrap,style:{width:.2*o*75},children:Object(n.jsxs)("p",{className:F.a.stars,children:[Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"}),Object(n.jsx)("i",{className:"fas fa-star"})]})})]}),Object(n.jsx)("button",{className:F.a.deleteBtn,onClick:i,children:"Delete"})]})},E=t(24),G=t.n(E),q=function(e){var a=e.bookInfo,t=e.setBookInfo,c=e.darkTheme,s=a.title,r=a.thumbnail,o=a.authors;return Object(n.jsxs)("li",{className:c?"".concat(G.a.dark," ").concat(G.a.result):"".concat(G.a.result),onClick:function(e){var a=e.currentTarget.querySelector("img").src;t({coverImg:a,title:s})},children:[Object(n.jsx)("p",{className:G.a.cover,children:Object(n.jsx)("img",{src:r||"/book-challengers/images/default.png",alt:s})}),Object(n.jsxs)("ul",{className:G.a.text,children:[Object(n.jsx)("li",{className:G.a.title,children:s}),Object(n.jsx)("li",{children:o})]})]})},H=t(10),Z=t.n(H),z=function(e){var a=e.book,t=e.setAdding,c=e.userObj,r=e.challengeName,o=e.darkTheme,i=Object(s.useState)([]),u=Object(l.a)(i,2),j=u[0],b=u[1],d=Object(s.useState)({}),_=Object(l.a)(d,2),p=_[0],g=_[1],O=Object(s.useRef)(),x=Object(s.useRef)(),k=function(){var e=Object(m.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=x.current.value)>5)){e.next=5;break}alert("Put number under 5"),e.next=13;break;case 5:if(""!==a){e.next=9;break}alert("Input number abouth this book!"),e.next=13;break;case 9:return n=Date.now(),e.next=12,f.ref("".concat(c.uid,"/").concat(r,"/books/").concat(n)).set({thumbnail:p.coverImg,title:p.title,rating:a,createdAt:n});case 12:t(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:Z.a.list,children:[Object(n.jsxs)("form",{className:Z.a.form,children:[Object(n.jsx)("input",{className:o?"".concat(Z.a.dark," ").concat(Z.a.input):"".concat(Z.a.input),ref:O,type:"text",placeholder:"Search"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),a.search(O.current.value).then((function(e){return b(e.data.documents)}))},className:Z.a.submit,children:Object(n.jsx)("i",{className:"fas fa-search"})})]}),Object(n.jsxs)("div",{className:Z.a.bookContainer,children:[j.length>0?Object(n.jsx)("ul",{className:o?"".concat(Z.a.dark," ").concat(Z.a.books):"".concat(Z.a.books),children:j.map((function(e){return Object(n.jsx)(q,{bookInfo:e,setAdding:t,userObj:c,challengeName:r,setBookInfo:g,darkTheme:o},e.isbn)}))}):Object(n.jsx)("p",{className:Z.a.no_result,children:"No result"}),Boolean(p.coverImg)?Object(n.jsxs)("div",{className:Z.a.ratingInfo,children:[Object(n.jsx)("img",{class:Z.a.previewImg,src:p.coverImg,alt:"book cover"}),Object(n.jsx)("p",{children:"Rate this book"}),Object(n.jsxs)("p",{className:Z.a.ratingText,children:[Object(n.jsx)("input",{ref:x,className:Z.a.ratingNum,type:"number",autoFocus:!0,min:"0",max:"5",step:"0.1",required:!0}),Object(n.jsx)("span",{children:"/5"}),Object(n.jsx)("button",{className:o?"".concat(Z.a.dark," ").concat(Z.a.register):"".concat(Z.a.register),onClick:k,children:"register"})]})]}):""]})]})},J=t(18),K=t.n(J),M=function(e){var a=e.book,t=e.userObj,c=e.darkTheme,r=Object(s.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],b=Object(s.useState)([]),h=Object(l.a)(b,2),m=h[0],d=h[1],_=Object(s.useState)(""),p=Object(l.a)(_,2),g=p[0],O=p[1],x=Object(j.f)(),k="challenge title",v="goal",N=window.localStorage.getItem(k);return Object(s.useEffect)((function(){x.location.state&&(window.localStorage.setItem(k,x.location.title),window.localStorage.setItem(v,x.location.state.goal.bookGoal))}),[x.location.state,x.location.title]),Object(s.useEffect)((function(){f.ref("".concat(t.uid,"/").concat(window.localStorage.getItem(k),"/books")).on("value",(function(e){var a=e.val();d(a||[])}))}),[t.uid]),Object(s.useEffect)((function(){var e=Object.keys(m).length;O((function(){return window.localStorage.getItem(v)-e}))}),[m,g]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:K.a.tracker,children:[Object(n.jsxs)("h2",{className:K.a.title,children:[window.localStorage.getItem(v)," Books Challenges"]}),Object(n.jsxs)("h4",{children:['"',window.localStorage.getItem(k),'"']}),g>0&&Object(n.jsxs)("h3",{className:c?"".concat(K.a.dark," ").concat(K.a.left):"".concat(K.a.left),children:[Object(n.jsx)("span",{children:g})," books left until goal achievement!"]}),i&&Object(n.jsx)(z,{book:a,setAdding:u,userObj:t,challengeName:window.localStorage.getItem(k),darkTheme:c}),Object(n.jsxs)("ul",{className:K.a.book_containers,children:[Object.keys(m).map((function(e){return Object(n.jsx)(R,{userObj:t,bookData:m[e],challengeTitle:N},e)})),g>0&&Object(n.jsx)("li",{className:K.a.blank,onClick:function(){return u(!0)},children:Object(n.jsx)("span",{children:"+"})})]}),0===g&&Object(n.jsxs)("p",{className:K.a.achieved,children:[Object(n.jsx)("i",{className:"fas fa-trophy"}),Object(n.jsx)("span",{children:"You achieved your goal!"})]})]})})},V=t(21),X=t.n(V),Y=function(e){var a=e.ImageInput,t=e.userObj,r=e.ChallengeList,o=e.refreshUser,i=e.darkTheme,u=Object(s.useState)({displayName:t.displayName,photoURL:t.photoURL}),j=Object(l.a)(u,2),b=j[0],d=j[1],_=function(){var e=Object(m.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.displayName===b.displayName&&t.photoURL===b.photoURL){e.next=4;break}return e.next=4,t.updateProfile({displayName:b.displayName,photoURL:b.photoURL});case 4:o();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{className:X.a.title,children:[t.displayName,"'s Profile"]}),Object(n.jsxs)("form",{className:X.a.form,onSubmit:_,children:[Object(n.jsx)("p",{className:X.a.profileImg,children:Object(n.jsx)("img",{src:b.photoURL,alt:t.displayName})}),Object(n.jsx)(a,{setNewUserObj:d}),Object(n.jsx)("input",{className:X.a.userName,type:"text",value:b.displayName,onChange:function(e){var a=e.target.value;d((function(e){return Object(c.a)(Object(c.a)({},e),{},{displayName:a})}))}}),Object(n.jsx)("input",{className:X.a.update,type:"submit",value:"Update"})]}),Object(n.jsx)("h3",{className:X.a.title,children:"Challenges "}),Object(n.jsx)("p",{className:X.a.subTitle,children:"Click each section if you go to that challenge"}),Object(n.jsx)(r,{darkTheme:i})]})},Q=t(40),$=t.n(Q),ee=t(25),ae=t.n(ee),te=function(e){var a=e.setLoggedIn,t=e.darkTheme,c=Object(j.f)(),s=function(e){var t=e.target.innerText;"Home"===t?c.push("/"):"Profile"===t?c.push("/profile"):"Sign out"===t&&(p.signOut(),a(!1),c.push("/"))};return Object(n.jsxs)("ul",{className:t?"".concat(ae.a.dark," ").concat(ae.a.nav):"".concat(ae.a.nav),children:[Object(n.jsx)("li",{className:ae.a.menu,onClick:s,children:"Home"}),Object(n.jsx)("li",{className:ae.a.menu,onClick:s,children:"Profile"}),Object(n.jsx)("li",{className:ae.a.menu,onClick:s,children:"Sign out"})]})},ce=function(e){var a=e.ChallengeList,t=e.ImageInput,c=e.ToggleBtn,r=e.loggedIn,o=e.book,i=e.userObj,b=e.setLoggedIn,h=e.refreshUser,m=Object(s.useState)(!1),d=Object(l.a)(m,2),_=d[0],p=d[1];return Object(n.jsxs)("div",{className:$.a.wrap,children:[Object(n.jsx)(y,{userObj:i,setLoggedIn:b,darkTheme:_}),Object(n.jsx)(c,{darkTheme:_,setDarkTheme:p}),Object(n.jsxs)(u.a,{children:[r&&Object(n.jsx)(te,{setLoggedIn:b,darkTheme:_}),Object(n.jsx)("section",{className:$.a.section,children:Object(n.jsx)(j.c,{children:r&&i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(D,{userObj:i,loggedIn:r})}),Object(n.jsx)(j.a,{exact:!0,path:"/tracker",children:Object(n.jsx)(M,{book:o,userObj:i,loggedIn:r,setLoggedIn:b,darkTheme:_})}),Object(n.jsx)(j.a,{exact:!0,path:"/profile",children:Object(n.jsx)(Y,{ImageInput:t,userObj:i,loggedIn:r,ChallengeList:a,refreshUser:h,darkTheme:_})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(x,{darkTheme:_})})})})})]}),Object(n.jsx)(N,{darkTheme:_})]})};t(70);var ne=function(e){var a=e.ImageInput,t=e.ToggleBtn,r=e.book,o=Object(s.useState)(!1),i=Object(l.a)(o,2),u=i[0],j=i[1],b=Object(s.useState)(p.currentUser),h=Object(l.a)(b,2),m=h[0],d=h[1],_=Object(s.useState)(null),f=Object(l.a)(_,2),g=f[0],O=f[1];return Object(s.useEffect)((function(){p.onAuthStateChanged((function(e){e?(d(!0),O(e)):(d(!1),O(null)),j(!0)}))}),[m,g]),Object(n.jsx)(n.Fragment,{children:u?Object(n.jsx)(ce,{ChallengeList:function(e){return Object(n.jsx)(U,Object(c.a)(Object(c.a)({},e),{},{userObj:g}))},ImageInput:a,ToggleBtn:t,loggedIn:m,book:r,userObj:g,setLoggedIn:d,refreshUser:function(){var e=p.currentUser;O({displayName:e.displayName,uid:e.uid,updateProfile:function(a){return e.updateProfile(a)}})}}):Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("p",{className:"spinner",children:Object(n.jsx)("i",{className:"fas fa-spinner"})}),Object(n.jsx)("p",{className:"loading_text",children:"Loading..."})]})})},se=t(30),re=t(31),oe=t(53),ie=t.n(oe),le=function(){function e(a){Object(se.a)(this,e),this.key=a}return Object(re.a)(e,[{key:"search",value:function(){var e=Object(m.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get("https://dapi.kakao.com/v3/search/book?query=".concat(a),{headers:{Authorization:"KakaoAK ".concat(this.key)}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),ue=(t(88),function(){function e(){Object(se.a)(this,e)}return Object(re.a)(e,[{key:"upload",value:function(){var e=Object(m.a)(h.a.mark((function e(a){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",a),t.append("upload_preset","bq51dxpm"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dlpqcuqbq/upload",{method:"POST",body:t});case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}]),e}()),je=t(33),be=t.n(je),he=function(e){var a=e.imageUploader,t=e.setNewUserObj,r=Object(s.useRef)(),o=function(){var e=Object(m.a)(h.a.mark((function e(n){var s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.currentTarget.files,e.next=3,a.upload(s[0]);case 3:r=e.sent,t((function(e){return Object(c.a)(Object(c.a)({},e),{},{photoURL:r.url})}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:be.a.imageFile,children:[Object(n.jsx)("input",{className:be.a.input,ref:r,type:"file",accept:"image/*",onChange:o}),Object(n.jsx)("button",{className:be.a.button,onClick:function(e){e.preventDefault(),r.current.click()},children:"Change Profile Photo"})]})},me=t(17),de=t.n(me),_e=function(e){var a=e.darkTheme,t=e.setDarkTheme,c="dark",r=function(e){var a=document.querySelector("html");e?(a.classList.add(c),localStorage.setItem(c,!0)):(a.classList.remove(c),localStorage.setItem(c,!1))};return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem(c));if(null!==e)t(e),r(e);else{console.log("localStorage \ube44\uc5b4\uc788\uc74c");var a=window.matchMedia("(prefers-color-scheme: Dark)").matches;t(a),r(a)}}),[]),Object(n.jsxs)("div",{className:de.a.wrap,onClick:function(e){t((function(e){return r(!e),!e}))},children:[Object(n.jsx)("div",{className:a?"".concat(de.a.dark," ").concat(de.a.toggle):"".concat(de.a.toggle),children:a?"Dark":"Light"}),Object(n.jsxs)("div",{className:a?"".concat(de.a.dark," ").concat(de.a.names):"".concat(de.a.names),children:[Object(n.jsx)("p",{className:de.a.lightText,children:"Light"}),Object(n.jsx)("p",{className:de.a.darkText,children:"Dark"})]})]})},pe=new le("742e10ca3a65c754115634228a639144"),fe=new ue;i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(ne,{book:pe,ImageInput:function(e){return Object(n.jsx)(he,Object(c.a)(Object(c.a)({},e),{},{imageUploader:fe}))},ToggleBtn:function(e){return Object(n.jsx)(_e,Object(c.a)({},e))}})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.33230b3a.chunk.js.map